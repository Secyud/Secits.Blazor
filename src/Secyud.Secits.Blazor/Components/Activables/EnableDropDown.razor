@namespace Secyud.Secits.Blazor
@inherits SLayoutPluginBase<SActivableBase>


@code
{
    public override RenderFragment RenderTemplate() =>
        __builder =>
        {   
            var iconName = ContextVisible ? _upIcon : _downIcon;
            <SIcon @ref="_icon" IconName="@iconName" @key="iconName"
                   Click="@ClickDropDownAsync"
                   Class="@GetClass()" Style="@GetStyle()"/>

            <SContextMenu 
                          @bind-Visible="ContextVisible"
                          Class="@GetContentClass()"
                          Style="@GetContentStyle()"
                          ExtendElement="@(() => _icon?.ElementRef)">
                @ChildContent
            </SContextMenu>
        };
}
