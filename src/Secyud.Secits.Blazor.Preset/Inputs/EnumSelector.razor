@namespace Secyud.Secits.Blazor.Preset
@inherits SInput<TEnum>
@typeparam TEnum

@{
    base.BuildRenderTree(__builder);
}

@code
{
    protected override RenderFragment GenerateSetting() =>
        __builder =>
        {
            @base.GenerateSetting()
            <InputTextTemplate TValue="TEnum" Class="w-100" Readonly @onclick="ClickDropDownAsync"/>
            <EnableValueInput TValue="TEnum" ValueUpdated="CloseDropDownAsync"
                              Value="Value" ValueChanged="ValueChanged"/>
            <EnableDropDown @ref="_enableDropDown" ContentClass="outline">
                <SList TValue="TEnum" Style="max-height: calc(var(--s-s) * 16);">
                    <StaticDataSource Items="@GetList()"/>
                    <EnableIteratorFixed/>
                    <EnableIteratorSelect/>
                    <ListColumn ChildContent="ListItemTemplate"/>
                </SList>
            </EnableDropDown>
        };
}