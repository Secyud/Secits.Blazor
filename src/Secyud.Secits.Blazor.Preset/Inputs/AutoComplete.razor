@namespace Secyud.Secits.Blazor.Preset
@inherits SInput<TValue>
@typeparam TValue
@typeparam TField

@((RenderFragment)base.BuildRenderTree)

@code
{
    protected override RenderFragment GenerateSetting() =>
        __builder =>
        {
            <EnableFieldInput TValue="TValue" TField="TField"
                              EnableNullable="EnableNullable"
                              Field="Field" FieldChanged="FieldChanged"
                              ValueField="ValueField" ItemFinder="ItemFinder"
                              ValueUpdated="CloseDropDownAsync"/>
            <AddTemplate>
                <input value="@SearchValue" @onchange="OnSearchValueChanged" @onclick="OpenDropDownAsync"/>
            </AddTemplate>
            <EnableDropDown @ref="_enableDropDown" ContentClass="outline">
                <SList TValue="TValue" Class="ipd" Style="max-height: calc(var(--s-s) * 16);">
                    <EnableDynamicSource Items="Items"/>
                    <EnableIteratorVisualize/>
                    <EnableIteratorSelect/>
                    <ListColumn ChildContent="ListItemTemplate"/>
                </SList>
            </EnableDropDown>
            @base.GenerateSetting()
        };
}